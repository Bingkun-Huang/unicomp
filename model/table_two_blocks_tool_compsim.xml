<mujoco model="two_tblocks_tool">
  <asset>
    <texture name="tex_floor_checker" type="2d" builtin="checker"
             width="512" height="512" rgb1="0.90 0.90 0.90" rgb2="0.72 0.72 0.72"/>
    <material name="mat_floor_checker" texture="tex_floor_checker" texrepeat="20 20"
              texuniform="true" reflectance="0.05" shininess="0.2" specular="0.1" rgba="1 1 1 1"/>
  </asset>

  <compiler angle="radian"/>
  <option timestep="0.002" integrator="implicitfast"/>

  <default>
    <geom friction="0.7 0.005 0.0001" density="800"/>
  </default>

  <worldbody>
    <light name="scene_light" pos="0 0 1.5" dir="0 0 -1" directional="true"/>
    <geom name="floor" type="plane" size="5 5 0.1" pos="0 0 0" material="mat_floor_checker" rgba="1 1 1 1"/>

    <!-- Block A (compsim body) -->
    <body name="T_siconos" pos="0.00 0.00 0.02" quat="0.707 0.707 0 0">
      <freejoint name="root_siconos"/>
      <geom name="T_stem_s" type="box" size="0.02 0.02 0.15" pos="0 0 -0.05"
            rgba="0.2 0.4 0.8 1" contype="0" conaffinity="0"/>
      <geom name="T_top_s" type="box" size="0.10 0.02 0.02" pos="0 0 0.12"
            rgba="0.8 0.2 0.2 1" contype="0" conaffinity="0"/>
    </body>

    <!-- Block B (same geometry) -->
    <body name="T_siconos2" pos="0.30 0.00 0.02" quat="0.707 0.707 0 0">
      <freejoint name="root_siconos2"/>
      <geom name="T_stem_s2" type="box" size="0.02 0.02 0.15" pos="0 0 -0.05"
            rgba="0.2 0.7 0.3 1" contype="0" conaffinity="0"/>
      <geom name="T_top_s2" type="box" size="0.10 0.02 0.02" pos="0 0 0.12"
            rgba="0.9 0.8 0.2 1" contype="0" conaffinity="0"/>
    </body>
    

    <!-- Drag target (red) -->
    <body name="target_mocap" mocap="true" pos="0.10 -0.35 0.08">
      <geom name="target_vis" type="sphere" size="0.005" rgba="1 0 0 0.5" contype="0" conaffinity="0"/>
    </body>

    <!-- Dynamic tool (green); controlled in Python to track target_mocap -->
    <body name="tool_mocap" mocap="true" pos="0.10 -0.35 0.08">
      <geom name="tool_vis" type="sphere" size="0.05" rgba="0 1 0 0.9" contype="0" conaffinity="0"/>
    </body>

  </worldbody>
</mujoco>
